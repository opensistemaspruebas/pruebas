jQuery(document).ready(function() {

	var url_twitter = 'http://d1xkg658gp8s5n.cloudfront.net/bbva-components/twitter/?project=is8lyryw&baseUri=statuses/user_timeline&count=3&user_id=775250916622602241';


 	d = {"code":200,"data":[{"created_at":"Wed Oct 19 08:00:22 +0000 2016","id":788650987326144500,"id_str":"788650987326144512","text":"RT @metro_madrid: Circulación normalizada entre Alvarado y Cuatro Caminos.","truncated":false,"entities":{"hashtags":[],"symbols":[],"user_mentions":[{"screen_name":"metro_madrid","name":"Metro de Madrid","id":182764833,"id_str":"182764833","indices":[3,16]}],"urls":[]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":0,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":3,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/775250916622602241/1475221156","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false,"translator_type":"none"},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Sun Oct 16 10:31:57 +0000 2016","id":787601970852921300,"id_str":"787601970852921344","text":"Circulación normalizada entre Alvarado y Cuatro Caminos.","truncated":false,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":182764833,"id_str":"182764833","name":"Metro de Madrid","screen_name":"metro_madrid","location":"Madrid, España","description":"Metro de Madrid es la empresa pública que gestiona la red de metro de la Comunidad de Madrid.\r\nhttp://t.co/oKICiy53","url":"http://t.co/ymQy3kWCtF","entities":{"url":{"urls":[{"url":"http://t.co/ymQy3kWCtF","expanded_url":"http://www.facebook.com/metrodemadrid","display_url":"facebook.com/metrodemadrid","indices":[0,22]}]},"description":{"urls":[{"url":"http://t.co/oKICiy53","expanded_url":"http://www.metromadrid.es","display_url":"metromadrid.es","indices":[95,115]}]}},"protected":false,"followers_count":306268,"friends_count":385,"listed_count":1025,"created_at":"Wed Aug 25 10:18:32 +0000 2010","favourites_count":14725,"utc_offset":7200,"time_zone":"Madrid","geo_enabled":true,"verified":true,"statuses_count":93568,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"FFFFFF","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/182764833/1476773660","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":false,"has_extended_profile":true,"default_profile":false,"default_profile_image":false,"following":true,"follow_request_sent":false,"notifications":false,"translator_type":"none"},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":2,"favorite_count":2,"favorited":false,"retweeted":true,"lang":"es"},"is_quote_status":false,"retweet_count":2,"favorite_count":0,"favorited":false,"retweeted":true,"lang":"es"},{"created_at":"Wed Oct 19 07:59:26 +0000 2016","id":788650754089291800,"id_str":"788650754089291776","text":"RT @ElinformanteUS: 17 de Octubre de 1919, se inaugura el #Metro de #Madrid. https://t.co/uh11YPTsFb","truncated":false,"entities":{"hashtags":[{"text":"Metro","indices":[58,64]},{"text":"Madrid","indices":[68,75]}],"symbols":[],"user_mentions":[{"screen_name":"ElinformanteUS","name":"EL INFORMANTE U.S.A","id":3223746900,"id_str":"3223746900","indices":[3,18]}],"urls":[],"media":[{"id":788008850058154000,"id_str":"788008850058153984","indices":[77,100],"media_url":"http://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","media_url_https":"https://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","url":"https://t.co/uh11YPTsFb","display_url":"pic.twitter.com/uh11YPTsFb","expanded_url":"https://twitter.com/ElinformanteUS/status/788008928512659457/photo/1","type":"photo","sizes":{"medium":{"w":944,"h":641,"resize":"fit"},"small":{"w":680,"h":462,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":944,"h":641,"resize":"fit"}},"source_status_id":788008928512659500,"source_status_id_str":"788008928512659457","source_user_id":3223746900,"source_user_id_str":"3223746900"}]},"extended_entities":{"media":[{"id":788008850058154000,"id_str":"788008850058153984","indices":[77,100],"media_url":"http://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","media_url_https":"https://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","url":"https://t.co/uh11YPTsFb","display_url":"pic.twitter.com/uh11YPTsFb","expanded_url":"https://twitter.com/ElinformanteUS/status/788008928512659457/photo/1","type":"photo","sizes":{"medium":{"w":944,"h":641,"resize":"fit"},"small":{"w":680,"h":462,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":944,"h":641,"resize":"fit"}},"source_status_id":788008928512659500,"source_status_id_str":"788008928512659457","source_user_id":3223746900,"source_user_id_str":"3223746900"}]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":0,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":3,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/775250916622602241/1475221156","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false,"translator_type":"none"},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Mon Oct 17 13:29:03 +0000 2016","id":788008928512659500,"id_str":"788008928512659457","text":"17 de Octubre de 1919, se inaugura el #Metro de #Madrid. https://t.co/uh11YPTsFb","truncated":false,"entities":{"hashtags":[{"text":"Metro","indices":[38,44]},{"text":"Madrid","indices":[48,55]}],"symbols":[],"user_mentions":[],"urls":[],"media":[{"id":788008850058154000,"id_str":"788008850058153984","indices":[57,80],"media_url":"http://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","media_url_https":"https://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","url":"https://t.co/uh11YPTsFb","display_url":"pic.twitter.com/uh11YPTsFb","expanded_url":"https://twitter.com/ElinformanteUS/status/788008928512659457/photo/1","type":"photo","sizes":{"medium":{"w":944,"h":641,"resize":"fit"},"small":{"w":680,"h":462,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":944,"h":641,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":788008850058154000,"id_str":"788008850058153984","indices":[57,80],"media_url":"http://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","media_url_https":"https://pbs.twimg.com/media/Cu-R38OUkAAlHAZ.jpg","url":"https://t.co/uh11YPTsFb","display_url":"pic.twitter.com/uh11YPTsFb","expanded_url":"https://twitter.com/ElinformanteUS/status/788008928512659457/photo/1","type":"photo","sizes":{"medium":{"w":944,"h":641,"resize":"fit"},"small":{"w":680,"h":462,"resize":"fit"},"thumb":{"w":150,"h":150,"resize":"crop"},"large":{"w":944,"h":641,"resize":"fit"}}}]},"source":"<a href=\"https://about.twitter.com/products/tweetdeck\" rel=\"nofollow\">TweetDeck</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":3223746900,"id_str":"3223746900","name":"EL INFORMANTE U.S.A","screen_name":"ElinformanteUS","location":"New York, NY","description":"PLATAFORMA DIGITAL INTERNACIONAL, NOTICIAS DE HABLA HISPANA. MAGAZINE, TELEVISION & NEWSPAPER ASSOCIATION.","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":41382,"friends_count":29147,"listed_count":382,"created_at":"Sat May 23 01:59:37 +0000 2015","favourites_count":58,"utc_offset":-25200,"time_zone":"Pacific Time (US & Canada)","geo_enabled":true,"verified":false,"statuses_count":39075,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"C0DEED","profile_background_image_url":"http://abs.twimg.com/images/themes/theme1/bg.png","profile_background_image_url_https":"https://abs.twimg.com/images/themes/theme1/bg.png","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/613897386226638849/dDVq4TK9_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/613897386226638849/dDVq4TK9_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/3223746900/1451864011","profile_link_color":"0084B4","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false,"translator_type":"none"},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":11,"favorite_count":13,"favorited":false,"retweeted":true,"possibly_sensitive":false,"lang":"es"},"is_quote_status":false,"retweet_count":11,"favorite_count":0,"favorited":false,"retweeted":true,"possibly_sensitive":false,"lang":"es"},{"created_at":"Fri Sep 30 07:42:31 +0000 2016","id":781761126065246200,"id_str":"781761126065246209","text":"La estrategia de @BBVABancomer para consolidar sus valores https://t.co/p7Gi7JGAqg","truncated":false,"entities":{"hashtags":[],"symbols":[],"user_mentions":[{"screen_name":"BBVABancomer","name":"BBVA Bancomer","id":637362286,"id_str":"637362286","indices":[17,30]}],"urls":[{"url":"https://t.co/p7Gi7JGAqg","expanded_url":"http://bbva.info/2da1hW0","display_url":"bbva.info/2da1hW0","indices":[59,82]}]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":0,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":3,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/781759763315064832/nBALdP6E_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/775250916622602241/1475221156","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false,"translator_type":"none"},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":0,"favorite_count":0,"favorited":false,"retweeted":false,"possibly_sensitive":false,"lang":"es"}]};


	//jQuery.get(url_twitter, function(d) {

	
		if (d.code === 200 && d.data.length > 0) {

			jQuery('.row.tweets-container').html('');
	        
	        jQuery.each(d.data, function(i, result) {

	        	
	        	
	        	var fecha = new Date(result.created_at);
	        	var texto = result.text;
	        	var id = result.id_str;

	        	if(result.retweeted_status == undefined){

	        		var likes = result.favorite_count;
	        		var usuario = '@' + result.user.screen_name;
	        		var imagen = result.user.profile_image_url_https;
	        		var nombre = result.user.name;        		
	        	}
	        	else{

	        		var likes = result.retweeted_status.favorite_count;
	        		var usuario = '@' + result.retweeted_status.user.screen_name;
	        		var imagen = result.retweeted_status.user.profile_image_url_https;
	        		var nombre = result.retweeted_status.user.name;
	        		var nombreRetweet = result.user.name;
	        	}


	        	var meses = [
	        		object_name_twitter.enero, 
	        		object_name_twitter.febrero,
	        		object_name_twitter.marzo,
	        		object_name_twitter.abril,
	        		object_name_twitter.mayo,
	        		object_name_twitter.junio,
	        		object_name_twitter.julio,
	        		object_name_twitter.agosto,
	        		object_name_twitter.septiembre,
	        		object_name_twitter.octubre,
	        		object_name_twitter.noviembre,
	        		object_name_twitter.diciembre
	        	];

	        	var compartirEn = object_name_twitter.compartir;
	        	var urlRedesSociales = 'https://twitter.com/' + nombre + '/status/' + id; 


	        	fecha = fecha.getDate() + ' ' +  meses[fecha.getMonth()];
	        	fecha = fecha.toString();
	        	fecha = fecha.toLowerCase();
	        	
	        	texto = texto.replace(/#(\S*)/g,'<b>#$1</b>');
	        	texto = texto.replace(/@(\S*)/g,'<b>@$1</b>');
	        	texto = texto.replace(/http(\S*)/g,'<b>http$1</b>');

	        	if (result.retweeted_status == undefined){

	        		jQuery('.row.tweets-container').append('<div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-4"><section class="row tweet"><div class="col-xs-12 retweet-row"></div><div class="image-container nopadding col-xs-3"><img src="' + imagen + '" alt="" /></div><div class="data-container col-xs-9"><div class="user-info"><span class="user-name">' + nombre + '</span><span class="account">' + usuario + '</span></div><p class="tweet-content mt-xxs mb-xxs">' + texto + '</p><div class="row statistics"><div class="likes"><a target="_blank" href="https://twitter.com/intent/like?tweet_id=' + id + '&&original_referer=https://dev.twitter.com" class="bbva-icon-favorite"></a><span class="tweet-like-count">' + likes + '</span></div><div class="share"> <span class="bbva-icon-share pop-div-twitter" data-popover-id="' + i + '"></span> </div><div class="date"> <span>' + fecha + '</span> </div></div><div class="hidden popover-twitter arrow_box" data-popover-id="' + i + '"><label>' + compartirEn + '</label><ul class="rrss-links"><li><a target="_blank" href="https://twitter.com/intent/retweet?tweet_id=' + id + '&&original_referer=https://dev.twitter.com">Twitter</a></li><li><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=' + urlRedesSociales + '">Facebook</a></li><li><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=' + urlRedesSociales + '">Linkedin</a></li><li><a target="_blank" href="#">Tumblr</a></li></ul></div></div></section></div>');
	        	}
	        	else{

	        		jQuery('.row.tweets-container').append('<div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-4"><section class="row tweet"><div class="col-xs-12 retweet-row"><span class="retweet-icon fa fa-retweet"></span><p> ' + nombreRetweet + ' Retweeted</p></div><div class="image-container nopadding col-xs-3"><img src="' + imagen + '" alt="" /></div><div class="data-container col-xs-9"><div class="user-info"><span class="user-name">' + nombre + '</span><span class="account">' + usuario + '</span></div><p class="tweet-content mt-xxs mb-xxs">' + texto + '</p><div class="row statistics"><div class="likes"><a target="_blank" href="https://twitter.com/intent/like?tweet_id=' + id + '&&original_referer=https://dev.twitter.com" class="bbva-icon-favorite"></a><span class="tweet-like-count">' + likes + '</span></div><div class="share"> <span class="bbva-icon-share pop-div-twitter" data-popover-id="' + i + '"></span> </div><div class="date"> <span>' + fecha + '</span> </div></div><div class="hidden popover-twitter arrow_box" data-popover-id="' + i + '"><label>' + compartirEn + '</label><ul class="rrss-links"><li><a target="_blank" href="https://twitter.com/intent/retweet?tweet_id=' + id + '&&original_referer=https://dev.twitter.com">Twitter</a></li><li><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=' + urlRedesSociales + '">Facebook</a></li><li><a target="_blank" href="http://www.linkedin.com/shareArticle?mini=true&url=' + urlRedesSociales + '&title=wwwww&summary=wwwwwweeeeeeee&source=bbva">Linkedin</a></li><li><a target="_blank" href="#">Tumblr</a></li></ul></div></div></section></div>');
	        	}

	        	

	        });
		
		} else {
			jQuery('.row.tweets-container').append('<p>No hay tweets disponibles</p>');
		}
	//}, 'json');

});