jQuery(document).ready(function() {

	var url_twitter = 'http://dquteo8n8b00y.cloudfront.net/bbva-components/twitter/?project=irnbsadx&baseUri=statuses/user_timeline&count=3&user_id=775250916622602241';

	d = {"code":200,"data":[{"created_at":"Fri Sep 23 12:24:00 +0000 2016","id":779295250007416800,"id_str":"779295250007416833","text":"RT @metro_madrid: Circulaci√≥n normalizada en L√≠nea 1 entre Alvarado y Cuatro Caminos.","truncated":false,"entities":{"hashtags":[],"symbols":[],"user_mentions":[{"screen_name":"metro_madrid","name":"Metro de Madrid","id":182764833,"id_str":"182764833","indices":[3,16]}],"urls":[]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":3,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":14,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Fri Sep 23 08:44:06 +0000 2016","id":779239907143348200,"id_str":"779239907143348224","text":"Circulaci√≥n normalizada en L√≠nea 1 entre Alvarado y Cuatro Caminos.","truncated":false,"entities":{"hashtags":[],"symbols":[],"user_mentions":[],"urls":[]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":182764833,"id_str":"182764833","name":"Metro de Madrid","screen_name":"metro_madrid","location":"Madrid, Espa√±a","description":"Metro de Madrid es la empresa p√∫blica que gestiona la red de metro de la Comunidad de Madrid.\r\nhttp://t.co/oKICiy53","url":"http://t.co/ymQy3kWCtF","entities":{"url":{"urls":[{"url":"http://t.co/ymQy3kWCtF","expanded_url":"http://www.facebook.com/metrodemadrid","display_url":"facebook.com/metrodemadrid","indices":[0,22]}]},"description":{"urls":[{"url":"http://t.co/oKICiy53","expanded_url":"http://www.metromadrid.es","display_url":"metromadrid.es","indices":[95,115]}]}},"protected":false,"followers_count":292426,"friends_count":383,"listed_count":1020,"created_at":"Wed Aug 25 10:18:32 +0000 2010","favourites_count":14279,"utc_offset":7200,"time_zone":"Madrid","geo_enabled":false,"verified":true,"statuses_count":92278,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"FFFFFF","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/182764833/1474618247","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":false,"has_extended_profile":true,"default_profile":false,"default_profile_image":false,"following":true,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":4,"favorite_count":11,"favorited":false,"retweeted":true,"lang":"es"},"is_quote_status":false,"retweet_count":4,"favorite_count":0,"favorited":false,"retweeted":true,"lang":"es"},{"created_at":"Thu Sep 22 13:06:12 +0000 2016","id":778943479552602100,"id_str":"778943479552602113","text":"RT @BBVALiteracy: Hola yo soy roberto moreno #master @rmoreno0 https://t.co/0ugHV0B8KC","truncated":false,"entities":{"hashtags":[{"text":"master","indices":[45,52]}],"symbols":[],"user_mentions":[{"screen_name":"BBVALiteracy","name":"BBVA Literacy","id":775250916622602200,"id_str":"775250916622602241","indices":[3,16]},{"screen_name":"rmoreno0","name":"Roberto Moreno","id":557384019,"id_str":"557384019","indices":[53,62]}],"urls":[],"media":[{"id":778940330842488800,"id_str":"778940330842488832","indices":[63,86],"media_url":"http://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","media_url_https":"https://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","url":"https://t.co/0ugHV0B8KC","display_url":"pic.twitter.com/0ugHV0B8KC","expanded_url":"https://twitter.com/BBVALiteracy/status/778940363021115392/photo/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":280,"h":293,"resize":"fit"},"medium":{"w":280,"h":293,"resize":"fit"},"large":{"w":280,"h":293,"resize":"fit"}},"source_status_id":778940363021115400,"source_status_id_str":"778940363021115392","source_user_id":775250916622602200,"source_user_id_str":"775250916622602241"}]},"extended_entities":{"media":[{"id":778940330842488800,"id_str":"778940330842488832","indices":[63,86],"media_url":"http://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","media_url_https":"https://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","url":"https://t.co/0ugHV0B8KC","display_url":"pic.twitter.com/0ugHV0B8KC","expanded_url":"https://twitter.com/BBVALiteracy/status/778940363021115392/photo/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":280,"h":293,"resize":"fit"},"medium":{"w":280,"h":293,"resize":"fit"},"large":{"w":280,"h":293,"resize":"fit"}},"source_status_id":778940363021115400,"source_status_id_str":"778940363021115392","source_user_id":775250916622602200,"source_user_id_str":"775250916622602241"}]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":3,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":14,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Thu Sep 22 12:53:49 +0000 2016","id":778940363021115400,"id_str":"778940363021115392","text":"Hola yo soy roberto moreno #master @rmoreno0 https://t.co/0ugHV0B8KC","truncated":false,"entities":{"hashtags":[{"text":"master","indices":[27,34]}],"symbols":[],"user_mentions":[{"screen_name":"rmoreno0","name":"Roberto Moreno","id":557384019,"id_str":"557384019","indices":[35,44]}],"urls":[],"media":[{"id":778940330842488800,"id_str":"778940330842488832","indices":[45,68],"media_url":"http://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","media_url_https":"https://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","url":"https://t.co/0ugHV0B8KC","display_url":"pic.twitter.com/0ugHV0B8KC","expanded_url":"https://twitter.com/BBVALiteracy/status/778940363021115392/photo/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":280,"h":293,"resize":"fit"},"medium":{"w":280,"h":293,"resize":"fit"},"large":{"w":280,"h":293,"resize":"fit"}}}]},"extended_entities":{"media":[{"id":778940330842488800,"id_str":"778940330842488832","indices":[45,68],"media_url":"http://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","media_url_https":"https://pbs.twimg.com/media/Cs9aGpkXgAAnQJy.jpg","url":"https://t.co/0ugHV0B8KC","display_url":"pic.twitter.com/0ugHV0B8KC","expanded_url":"https://twitter.com/BBVALiteracy/status/778940363021115392/photo/1","type":"photo","sizes":{"thumb":{"w":150,"h":150,"resize":"crop"},"small":{"w":280,"h":293,"resize":"fit"},"medium":{"w":280,"h":293,"resize":"fit"},"large":{"w":280,"h":293,"resize":"fit"}}}]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":3,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":14,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":1,"favorite_count":1,"favorited":true,"retweeted":true,"possibly_sensitive":false,"lang":"es"},"is_quote_status":false,"retweet_count":1,"favorite_count":0,"favorited":true,"retweeted":true,"possibly_sensitive":false,"lang":"es"},{"created_at":"Thu Sep 22 12:55:18 +0000 2016","id":778940736704245800,"id_str":"778940736704245760","text":"RT @metro_madrid: üòç ¬øGanas de comer fuera? üöá #mu√©veteenmetro a estos 15 restaurantes donde üç¥ comer por menos de 15‚Ç¨, v√≠a @TimeOutMAD https:‚Ä¶","truncated":false,"entities":{"hashtags":[{"text":"mu√©veteenmetro","indices":[45,60]}],"symbols":[],"user_mentions":[{"screen_name":"metro_madrid","name":"Metro de Madrid","id":182764833,"id_str":"182764833","indices":[3,16]},{"screen_name":"TimeOutMAD","name":"Time Out Madrid","id":2387116548,"id_str":"2387116548","indices":[121,132]}],"urls":[]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":775250916622602200,"id_str":"775250916622602241","name":"BBVA Literacy","screen_name":"BBVALiteracy","location":"","description":"","url":null,"entities":{"description":{"urls":[]}},"protected":false,"followers_count":0,"friends_count":1,"listed_count":0,"created_at":"Mon Sep 12 08:33:16 +0000 2016","favourites_count":3,"utc_offset":3600,"time_zone":"Dublin","geo_enabled":false,"verified":false,"statuses_count":14,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"F5F8FA","profile_background_image_url":null,"profile_background_image_url_https":null,"profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775601402580172801/H4BwApra_normal.jpg","profile_link_color":"2B7BB9","profile_sidebar_border_color":"C0DEED","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":true,"has_extended_profile":false,"default_profile":true,"default_profile_image":false,"following":false,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Thu Sep 22 11:45:05 +0000 2016","id":778923067410186200,"id_str":"778923067410186240","text":"üòç ¬øGanas de comer fuera? üöá #mu√©veteenmetro a estos 15 restaurantes donde üç¥ comer por menos de 15‚Ç¨, v√≠a @TimeOutMAD‚Ä¶ https://t.co/N5vrj70XMe","truncated":true,"entities":{"hashtags":[{"text":"mu√©veteenmetro","indices":[27,42]}],"symbols":[],"user_mentions":[{"screen_name":"TimeOutMAD","name":"Time Out Madrid","id":2387116548,"id_str":"2387116548","indices":[103,114]}],"urls":[{"url":"https://t.co/N5vrj70XMe","expanded_url":"https://twitter.com/i/web/status/778923067410186240","display_url":"twitter.com/i/web/status/7‚Ä¶","indices":[116,139]}]},"source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":182764833,"id_str":"182764833","name":"Metro de Madrid","screen_name":"metro_madrid","location":"Madrid, Espa√±a","description":"Metro de Madrid es la empresa p√∫blica que gestiona la red de metro de la Comunidad de Madrid.\r\nhttp://t.co/oKICiy53","url":"http://t.co/ymQy3kWCtF","entities":{"url":{"urls":[{"url":"http://t.co/ymQy3kWCtF","expanded_url":"http://www.facebook.com/metrodemadrid","display_url":"facebook.com/metrodemadrid","indices":[0,22]}]},"description":{"urls":[{"url":"http://t.co/oKICiy53","expanded_url":"http://www.metromadrid.es","display_url":"metromadrid.es","indices":[95,115]}]}},"protected":false,"followers_count":292426,"friends_count":383,"listed_count":1020,"created_at":"Wed Aug 25 10:18:32 +0000 2010","favourites_count":14279,"utc_offset":7200,"time_zone":"Madrid","geo_enabled":false,"verified":true,"statuses_count":92278,"lang":"es","contributors_enabled":false,"is_translator":false,"is_translation_enabled":false,"profile_background_color":"FFFFFF","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/288361232/background_metro2.JPG","profile_background_tile":false,"profile_image_url":"http://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/775206316671369217/UdNHzufq_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/182764833/1474618247","profile_link_color":"0084B4","profile_sidebar_border_color":"FFFFFF","profile_sidebar_fill_color":"DDEEF6","profile_text_color":"333333","profile_use_background_image":false,"has_extended_profile":true,"default_profile":false,"default_profile_image":false,"following":true,"follow_request_sent":false,"notifications":false},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":15,"favorite_count":48,"favorited":true,"retweeted":true,"possibly_sensitive":false,"lang":"es"},"is_quote_status":false,"retweet_count":15,"favorite_count":0,"favorited":true,"retweeted":true,"lang":"es"}]};

	//jQuery.get(url_twitter, function(d) {

		console.log("he hecho la llamada a twitter");
	
		if (d.code === 200 && d.data.length > 0) {

			jQuery('.row.tweets-container').html('');
	        
	        jQuery.each(d.data, function(i, result) {
	        	
	        	//console.log(result);

	        	var nombre = result.user.name;
	        	var usuario = '@' + result.user.screen_name;
	        	var imagen = result.user.profile_image_url_https;
	        	var likes = result.favorite_count;
	        	var fecha = new Date(result.created_at);
	        	var texto = result.text;

	        	var meses = [
	        		object_name.enero, 
	        		object_name.febrero,
	        		object_name.marzo,
	        		object_name.abril,
	        		object_name.mayo,
	        		object_name.junio,
	        		object_name.julio,
	        		object_name.agosto,
	        		object_name.septiembre,
	        		object_name.octubre,
	        		object_name.noviembre,
	        		object_name.diciembre,
	        	];


	        	fecha = fecha.getDate() + ' ' +  meses[fecha.getMonth()];
	        	fecha = fecha.toString();
	        	fecha = fecha.toLowerCase();
	        	
	        	texto = texto.replace(/#(\S*)/g,'<b>#$1</b>');
	        	texto = texto.replace(/@(\S*)/g,'<b>@$1</b>');
	        	texto = texto.replace(/http(\S*)/g,'<b>http$1</b>');

	        	jQuery('.row.tweets-container').append('<div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-4"> <section class="row tweet"> <div class="image-container nopadding col-xs-3"> <img src="' + imagen + '" alt=""> </div> <div class="data-container col-xs-9"> <div class="user-info"> <span class="user-name">' + nombre + '</span> <span class="account">' + usuario + '</span> </div> <p class="tweet-content mt-xxs mb-xxs"> ' + texto + ' </p> <div class="row statistics"> <div class="col-xs-2 col-sm-2 nopadding likes"> <span class="bbva-icon-favorite"></span> <span>' + likes + '</span> </div> <div class="col-xs-1 col-sm-2 nopadding share"> <span class="bbva-icon-share"></span> </div> <div class="col-xs-9 col-sm-8 nopadding date"> <span>' + fecha + '</span> </div> </div> </div> </section> </div>');

	        });
		
		} else {
			jQuery('.row.tweets-container').append('<p>No hay tweets disponibles</p>');
		}
	//}, 'json');

});